{"version":3,"sources":["functions/ClockPlot.js","PlotsInteraction.js","PlotsOnOff.js","App.js","serviceWorker.js","index.js"],"names":["filter_int","value","Math","round","circle","range","pi","map","ang","x","cos","y","sin","toArray","colors","ClockPlot","height","width","id","oneToOne","data","datasets","this","props","points","item","iter","label","fill","showLine","lineTension","borderColor","length","borderWidth","borderDash","borderDashOffset","pointRadius","point","options","animation","duration","legend","display","tooltips","enabled","responsive","maintainAspectRatio","aspectRatio","scales","yAxes","gridLines","drawBorder","color","zeroLineColor","ticks","min","max","fontColor","stepSize","callback","xAxes","React","Component","valueLabelFormat","PlotsInteraction","handle_amplitude","event","amplitude","setState","handle_phase","phase","state","angle_domain","rss","amp","sqrt","Row","Col","md","FormLabel","component","Slider","onChange","aria-labelledby","valueLabelDisplay","step","getAriaValueText","amplitudes","sorted_amplitudes","slice","sort","a","b","sorted_amplitudes_cumsum","reduce","i","term","ii_term","max_term","forEach","th","App","className","align","lg","Card","CardHeader","CardTitle","href","CardBody","math","PlotsOnOff","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","document","body","classList","add","ReactDOM","render","StrictMode","getElementById","URL","process","origin","addEventListener","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.3ee827c9.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Scatter } from 'react-chartjs-2';\r\n\r\nimport {range, pi} from 'mathjs';\r\n\r\nfunction filter_int(value) {\r\n  return 2*value === Math.round(2*value) ? value : null;\r\n}\r\n\r\nconst circle = range(-pi, pi, 0.01).map(ang => {return({x: Math.cos(ang), y: Math.sin(ang)})}).toArray();\r\n\r\nconst colors = [\"#000000\", \"#1f8ef1\"]\r\n\r\nclass ClockPlot extends React.Component {\r\n  render() {\r\n    return(\r\n      <Scatter\r\n        height={null}\r\n        width={null}\r\n        id = \"scatter-rel\"\r\n        oneToOne={true}\r\n        data = {{\r\n          datasets: [\r\n            ...this.props.points.map((item, iter) => {return({\r\n              label: 'radius'+iter,\r\n              fill: false,\r\n              showLine: true,\r\n              lineTension: 0,\r\n              borderColor: colors[iter%colors.length],\r\n              borderWidth: 5,\r\n              borderDash: [],\r\n              borderDashOffset: 0.0,\r\n              pointRadius: 4,\r\n              data: [{x: 0, y: 0}, item],\r\n            })}),\r\n            {\r\n              label: \"outer_circ\",\r\n              fill: true,\r\n              showLine: true,\r\n              lineTension: 0,\r\n              borderColor: \"#000000\",\r\n              borderWidth: 1,\r\n              borderDash: [],\r\n              borderDashOffset: 0.0,\r\n              pointRadius: 0,//4,\r\n              data: circle,\r\n            },\r\n            {\r\n                label: \"circ_025\",\r\n                fill: false,\r\n                showLine: true,\r\n                lineTension: 0,\r\n                borderColor: \"#000000\",\r\n                borderWidth: 1,\r\n                borderDash: [],\r\n                borderDashOffset: 0.0,\r\n                pointRadius: 0,//4,\r\n                data: circle.map(point => {return({x: 0.25*point.x, y: 0.25*point.y})}),\r\n            },\r\n            {\r\n                label: \"circ_050\",\r\n                fill: false,\r\n                showLine: true,\r\n                lineTension: 0,\r\n                borderColor: \"#000000\",\r\n                borderWidth: 1,\r\n                borderDash: [],\r\n                borderDashOffset: 0.0,\r\n                pointRadius: 0,//4,\r\n                data: circle.map(point => {return({x: 0.5*point.x, y: 0.5*point.y})}),\r\n            },\r\n            {\r\n                label: \"circ_075\",\r\n                fill: false,\r\n                showLine: true,\r\n                lineTension: 0,\r\n                borderColor: \"#000000\",\r\n                borderWidth: 1,\r\n                borderDash: [],\r\n                borderDashOffset: 0.0,\r\n                pointRadius: 0,//4,\r\n                data: circle.map(point => {return({x: 0.75*point.x, y: 0.75*point.y})}),\r\n            }\r\n          ]\r\n        }}\r\n        options = {{\r\n          animation: {\r\n              duration: 0\r\n          },\r\n          legend: {\r\n            display: false\r\n          },\r\n          tooltips: {\r\n            enabled: false,\r\n          },\r\n          responsive: true,\r\n          maintainAspectRatio: true,\r\n          aspectRatio: 1,\r\n          scales: {\r\n            yAxes: [\r\n              {\r\n                gridLines: {\r\n                  display: true,\r\n                  drawBorder: false,\r\n                  color: \"rgba(255,255,255,0.1)\",\r\n                  zeroLineColor: \"transparent\"\r\n                },\r\n                ticks: {\r\n                  min: -1.2,\r\n                  max: 1.2,\r\n                  fontColor: \"#9a9a9a\",\r\n                  stepSize: 2,\r\n                  callback: filter_int\r\n                }\r\n              }\r\n            ],\r\n            xAxes: [\r\n              {\r\n                gridLines: {\r\n                  display: true,\r\n                  drawBorder: false,\r\n                  color: \"rgba(255,255,255,0.1)\",\r\n                  zeroLineColor: \"transparent\"\r\n                },\r\n                ticks: {\r\n                  enabled: false,\r\n                  min: -1.2,\r\n                  max: 1.2,\r\n                  fontColor: \"#9a9a9a\",\r\n                  stepSize: 2,\r\n                  callback: filter_int\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        }}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nexport default ClockPlot\r\n","import React from 'react';\r\nimport { Scatter, Line } from 'react-chartjs-2';\r\n\r\nimport {abs, range, pi, max, cos, sin, sqrt} from 'mathjs';\r\n\r\n// reactstrap components\r\nimport {\r\n  Button,\r\n  ButtonGroup,\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n  CardFooter,\r\n  CardText,\r\n  CardTitle,\r\n  Label,\r\n  FormGroup,\r\n  Input,\r\n  Table,\r\n  Row,\r\n  Col\r\n} from \"reactstrap\";\r\n\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport 'katex/dist/katex.min.css';\r\nimport { InlineMath, BlockMath } from 'react-katex';\r\n\r\nimport ClockPlot from './functions/ClockPlot.js'\r\n\r\nfunction valueLabelFormat(value){\r\n  return(Math.round(value*180/pi)+'°')\r\n}\r\n\r\nclass PlotsInteraction extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      amplitude: 0.8,\r\n      phase: 0.25*pi,\r\n    }\r\n    this.angle_domain = range(0, 2*pi, 0.01);\r\n  }\r\n  handle_amplitude = (event, amplitude) => {\r\n    this.setState({\r\n      amplitude: amplitude,\r\n    })\r\n  }\r\n  handle_phase = (event, phase) => {\r\n    this.setState({\r\n      phase: phase,\r\n    })\r\n  }\r\n  render() {\r\n    const rss = this.angle_domain.map(item => {return(1+this.state.amplitude**2+2*this.state.amplitude*cos(item+this.state.phase))})\r\n    const amp = rss.map(item => {return(sqrt(item))})\r\n    return(\r\n      <>\r\n      <Row>\r\n        <Col md=\"2\">\r\n          <ClockPlot points={[{x: 1, y: 0}, {x: this.state.amplitude*cos(this.state.phase), y: this.state.amplitude*sin(this.state.phase)}]} />\r\n        </Col>\r\n        <Col md=\"5\">\r\n          <Scatter\r\n            data = {\r\n              {\r\n                datasets: [\r\n                  {\r\n                    label: 'RSS',\r\n                    showLine: true,\r\n                    lineTension: 0.1,\r\n                    borderColor: \"#1f8ef1\",\r\n                    borderWidth: 5,\r\n                    borderDash: [],\r\n                    borderDashOffset: 0.0,\r\n                    pointRadius: 0,\r\n                    data: rss.toArray().map((item, iter) => {return({x: iter, y: item})}),\r\n                  }\r\n                ]\r\n              }\r\n            }\r\n            options = {{\r\n              animation: {\r\n                  duration: 0.5\r\n              },\r\n              legend: {\r\n                display: false\r\n              },\r\n              tooltips: {\r\n                enabled: false,\r\n              },\r\n              responsive: true,\r\n              scales: {\r\n                yAxes: [\r\n                  {\r\n                    gridLines: {\r\n                      display: true,\r\n                      drawBorder: false,\r\n                      color: \"rgba(255,255,255,0.1)\",\r\n                      zeroLineColor: \"transparent\"\r\n                    },\r\n                    ticks: {\r\n                      min: 0,\r\n                      max: 4,\r\n                      fontColor: \"#9a9a9a\",\r\n                      stepSize: 2,\r\n                    }\r\n                  }\r\n                ],\r\n                xAxes: [\r\n                  {\r\n                    gridLines: {\r\n                      display: false,\r\n                      drawBorder: false,\r\n                      color: \"rgba(255,255,255,0.1)\",\r\n                      zeroLineColor: \"transparent\"\r\n                    },\r\n                    ticks: {\r\n                      enabled: false,\r\n                      min: 0,\r\n                      max: rss.length,\r\n                      fontColor: \"#9a9a9a\",\r\n                      callback: () => {}\r\n                    }\r\n                  }\r\n                ]\r\n              }\r\n            }}\r\n          />\r\n        </Col>\r\n        <Col md=\"5\">\r\n          <Scatter\r\n            data = {\r\n              {\r\n                datasets: [\r\n                  {\r\n                    label: 'AMP',\r\n                    showLine: true,\r\n                    lineTension: 0.1,\r\n                    borderColor: \"#1f8ef1\",\r\n                    borderWidth: 5,\r\n                    borderDash: [],\r\n                    borderDashOffset: 0.0,\r\n                    pointRadius: 0,\r\n                    data: amp.toArray().map((item, iter) => {return({x: iter, y: item})}),\r\n                  }\r\n                ]\r\n              }\r\n            }\r\n            options = {{\r\n              animation: {\r\n                  duration: 0\r\n              },\r\n              legend: {\r\n                display: false\r\n              },\r\n              tooltips: {\r\n                enabled: false,\r\n              },\r\n              responsive: true,\r\n              scales: {\r\n                yAxes: [\r\n                  {\r\n                    gridLines: {\r\n                      display: true,\r\n                      drawBorder: false,\r\n                      color: \"rgba(255,255,255,0.1)\",\r\n                      zeroLineColor: \"transparent\"\r\n                    },\r\n                    ticks: {\r\n                      min: 0,\r\n                      max: 4,\r\n                      fontColor: \"#9a9a9a\",\r\n                      stepSize: 2,\r\n                    }\r\n                  }\r\n                ],\r\n                xAxes: [\r\n                  {\r\n                    gridLines: {\r\n                      display: false,\r\n                      drawBorder: false,\r\n                      color: \"rgba(255,255,255,0.1)\",\r\n                      zeroLineColor: \"transparent\"\r\n                    },\r\n                    ticks: {\r\n                      enabled: false,\r\n                      min: 0,\r\n                      max: rss.length,\r\n                      fontColor: \"#9a9a9a\",\r\n                      callback: () => {}\r\n                    }\r\n                  }\r\n                ]\r\n              }\r\n            }}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col md=\"4\">\r\n        </Col>\r\n        <Col md=\"2\">\r\n          <FormLabel component=\"legend\">\r\n            Amplitude\r\n          </FormLabel>\r\n          <Slider\r\n            value={this.state.amplitude}\r\n            onChange={this.handle_amplitude}\r\n            aria-labelledby=\"continuous-slider\"\r\n            valueLabelDisplay=\"auto\"\r\n            min={0}\r\n            max={1}\r\n            step={0.01}\r\n          />\r\n        </Col>\r\n        <Col md=\"2\">\r\n          <FormLabel component=\"legend\">\r\n            Phase\r\n          </FormLabel>\r\n          <Slider\r\n            value={this.state.phase}\r\n            onChange={this.handle_phase}\r\n            aria-labelledby=\"continuous-slider\"\r\n            valueLabelDisplay=\"auto\"\r\n            getAriaValueText={valueLabelFormat}\r\n            valueLabelFormat={valueLabelFormat}\r\n            min={0}\r\n            max={2*pi}\r\n            step={0.01}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PlotsInteraction\r\n","import React from 'react';\r\nimport { Scatter, Line } from 'react-chartjs-2';\r\n\r\nimport {abs, range, pi, max, cos, sin, sqrt} from 'mathjs';\r\n\r\n// reactstrap components\r\nimport {\r\n  Button,\r\n  ButtonGroup,\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n  CardFooter,\r\n  CardText,\r\n  CardTitle,\r\n  Label,\r\n  FormGroup,\r\n  Input,\r\n  Table,\r\n  Row,\r\n  Col\r\n} from \"reactstrap\";\r\n\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport 'katex/dist/katex.min.css';\r\nimport { InlineMath, BlockMath } from 'react-katex';\r\n\r\nfunction valueLabelFormat(value){\r\n  return(Math.round(value*180/pi)+'°')\r\n}\r\n\r\nclass PlotsInteraction extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      amplitudes: [0.5, 0.5, 0.5, 0.5, 0.5, 0.5],\r\n      th: 0.5\r\n    }\r\n    this.angle_domain = range(0, 2*pi, 0.01);\r\n  }\r\n  handle_amplitude = (amplitude, iter) => {\r\n    var amplitudes = this.state.amplitudes\r\n    amplitudes[iter] = amplitude\r\n\r\n    const sorted_amplitudes = amplitudes.slice().sort(function(a, b){return b-a})\r\n    var sorted_amplitudes_cumsum = []\r\n    sorted_amplitudes.reduce(function(a,b,i) { return sorted_amplitudes_cumsum[i] = a+b; },0);\r\n    var term = sorted_amplitudes_cumsum.map((item, iter) => item/sqrt(iter+1))\r\n\r\n    var ii_term = 0\r\n    var max_term = 0\r\n    term.forEach((item, i) => {\r\n      if(item > max_term) {\r\n        max_term = item;\r\n        ii_term = i\r\n      }\r\n    });\r\n\r\n    const th = sorted_amplitudes[ii_term];\r\n\r\n    this.setState({\r\n      amplitudes: amplitudes,\r\n      th: th,\r\n    })\r\n  }\r\n  render() {\r\n    return(\r\n      <>\r\n      <Row>\r\n        <Col md=\"2\">\r\n        </Col>\r\n        <Col md=\"8\">\r\n          <Scatter\r\n            data = {\r\n              {\r\n                datasets: [\r\n                  {\r\n                    label: 'On',\r\n                    showLine: false,\r\n                    lineTension: 0.1,\r\n                    borderColor: \"#1ffe11\",\r\n                    borderWidth: 5,\r\n                    borderDash: [],\r\n                    borderDashOffset: 0.0,\r\n                    pointRadius: 4,\r\n                    data: this.state.amplitudes.map((item, iter) => {return((item >= this.state.th && {x: iter, y: item}))}),\r\n                  },\r\n                  {\r\n                    label: 'Off',\r\n                    showLine: false,\r\n                    lineTension: 0.1,\r\n                    borderColor: \"#ff1e11\",\r\n                    borderWidth: 5,\r\n                    borderDash: [],\r\n                    borderDashOffset: 0.0,\r\n                    pointRadius: 4,\r\n                    data: this.state.amplitudes.map((item, iter) => {return((item < this.state.th && {x: iter, y: item}))}),\r\n                  }\r\n                ]\r\n              }\r\n            }\r\n            options = {{\r\n              animation: {\r\n                  duration: 0.5\r\n              },\r\n              legend: {\r\n                display: false\r\n              },\r\n              tooltips: {\r\n                enabled: false,\r\n              },\r\n              responsive: true,\r\n              scales: {\r\n                yAxes: [\r\n                  {\r\n                    gridLines: {\r\n                      display: true,\r\n                      drawBorder: false,\r\n                      color: \"rgba(255,255,255,0.1)\",\r\n                      zeroLineColor: \"transparent\"\r\n                    },\r\n                    ticks: {\r\n                      min: 0,\r\n                      max: 1,\r\n                      fontColor: \"#9a9a9a\",\r\n                      stepSize: 2,\r\n                    }\r\n                  }\r\n                ],\r\n                xAxes: [\r\n                  {\r\n                    gridLines: {\r\n                      display: false,\r\n                      drawBorder: false,\r\n                      color: \"rgba(255,255,255,0.1)\",\r\n                      zeroLineColor: \"transparent\"\r\n                    },\r\n                    ticks: {\r\n                      enabled: false,\r\n                      min: 0,\r\n                      max: this.state.amplitudes.length-0.9,\r\n                      fontColor: \"#9a9a9a\",\r\n                      callback: () => {}\r\n                    }\r\n                  }\r\n                ]\r\n              }\r\n            }}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        {this.state.amplitudes.map((item, iter) => {return(\r\n          <Col md=\"2\">\r\n            <FormLabel component=\"legend\">\r\n              {'Antenna ' + (iter+1)}\r\n            </FormLabel>\r\n            <Slider\r\n              value={item}\r\n              onChange={(event, value) => this.handle_amplitude(value, iter)}\r\n              aria-labelledby=\"continuous-slider\"\r\n              valueLabelDisplay=\"auto\"\r\n              min={0}\r\n              max={1}\r\n              step={0.01}\r\n            />\r\n          </Col>\r\n        )})}\r\n      </Row>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PlotsInteraction\r\n","import React from 'react';\r\nimport { Scatter } from 'react-chartjs-2';\r\n\r\nimport {abs, range, pi, max} from 'mathjs';\r\n\r\n// reactstrap components\r\nimport {\r\n  Button,\r\n  ButtonGroup,\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n  CardFooter,\r\n  CardText,\r\n  CardTitle,\r\n  Label,\r\n  FormGroup,\r\n  Input,\r\n  Table,\r\n  Row,\r\n  Col\r\n} from \"reactstrap\";\r\n\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport 'katex/dist/katex.min.css';\r\nimport { InlineMath, BlockMath } from 'react-katex';\r\n\r\nimport PlotsInteraction from \"./PlotsInteraction.js\"\r\nimport PlotsOnOff from \"./PlotsOnOff.js\"\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <h1 align=\"center\">\r\n          Adaptive Codebook Optimization\r\n        </h1>\r\n        <Row>\r\n          <Col lg=\"12\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>\r\n                  <p>\r\n                    This webpage's purpose is helping understanding the logic behind our channel estimation method.\r\n                    You can also find more information in the paper and Github repository.\r\n                  </p>\r\n                  <h2 align=\"center\">\r\n                    Channel estimation from measurements\r\n                  </h2>\r\n                  <p align=\"right\">\r\n                    <a href=\"http://eprints.networks.imdea.org/1880/\">Paper</a>\r\n                  </p>\r\n                  <p align=\"right\">\r\n                    <a href=\"https://github.com/Joanguitar/ACO\">Github</a>\r\n                  </p>\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardBody>\r\n                <Row>\r\n                  <Col md=\"6\">\r\n                    <h4 align=\"center\">\r\n                      The problem\r\n                    </h4>\r\n                    <p>\r\n                      The problem consists on estimating the complex channel response as per antenna based on received signal strength.\r\n                      The problem consists on two parts.\r\n                      First building a codebook such that allows us to reconstruct the channel.\r\n                      Second by reconstructing the channel using the measurements from the codebook.\r\n                    </p>\r\n                    <p>\r\n                      If we denote <InlineMath math=\"\\bf{h}\" /> as the channel and <InlineMath math= \"\\bf{p}\" /> as the measured beam-pattern.\r\n                      We need to define a set <InlineMath math=\"\\{\\bf{p}_k\\}\" /> such that the set <InlineMath math=\"\\{\\bf{rss}_k\\}\" /> defined as <InlineMath math=\"\\bf{rss}_k = |<\\bf{h}, \\bf{p}_k>|^2\" /> let's you compute <InlineMath math=\"\\bf{h}\" />.\r\n                    </p>\r\n                    <p>\r\n                      To be compliant with the existing low resolution hardware, the entries of each beampattern are restricted to <InlineMath math=\"\\{0, 1, \\bf{i}, -1, -\\bf{i}\\}\" />.\r\n                    </p>\r\n                  </Col>\r\n                  <Col md=\"6\">\r\n                    <h4 align=\"center\">\r\n                      Observation\r\n                    </h4>\r\n                    <p>\r\n                      Note that the problem is theorically impossible to solve as any complex rotation of <InlineMath math=\"\\bf{h}\" /> would generate the same set of measurements regardless of the chosen codebook.\r\n                      This can be solved by adding an additional condition to the problem that solve the angle uncertainty.\r\n                      An example of this is assuming that the product with a reference beam-pattern has null complex angle.\r\n                    </p>\r\n                    <p>\r\n                      This can be formulated as <InlineMath math=\"<\\bf{h}, \\bf{p}_0>\\in\\mathbb{R}^+\" />.\r\n                    </p>\r\n                  </Col>\r\n                </Row>\r\n                <h3 align=\"center\">\r\n                  Analysis\r\n                </h3>\r\n                <p>\r\n                  Let's for a second forget about the problem restrictions and consider the reference beam-pattern <InlineMath math=\"\\bf{p}_0\" /> and another one <InlineMath math=\"\\bf{w}\" />.\r\n                  Let's now build another one that consists on the sum of both when <InlineMath math=\"\\bf{w}\" /> has its phase shifted by a unitary complex number as <InlineMath math=\"\\alpha\\bf{w}\" />.\r\n                  That's <InlineMath math=\"\\bf{p}=\\bf{h}_0+\\alpha\\bf{w}\" />.\r\n                  We plot its received signal strength.\r\n                </p>\r\n                <PlotsInteraction />\r\n                <h3 align=\"center\">\r\n                  Plots\r\n                </h3>\r\n                <Row>\r\n                  <Col md=\"4\">\r\n                    <h4 align=\"center\">\r\n                      Polar interaction\r\n                    </h4>\r\n                    <p>\r\n                      The graph on the left depicts the complex polar representation of two beam-patterns' complex response.\r\n                      The black one is the beam-pattern we are using for reference, thus it has zero phase.\r\n                      This one is also unitary for representation purposes.\r\n                    </p>\r\n                  </Col>\r\n                  <Col md=\"4\">\r\n                    <h4 align=\"center\">\r\n                      Received signal strength\r\n                    </h4>\r\n                    <p>\r\n                      It's not hard to prove that the RSS of the combination of both beam-patterns when adding a phase shift to the one that's not for reference follows the wave fucntion depicted in the center graph.\r\n                      This wave is pure with an offset and thus, its parameters (offset, width and phase offset) can be computed with a few points.\r\n                    </p>\r\n                  </Col>\r\n                  <Col md=\"4\">\r\n                    <h4 align=\"center\">\r\n                      RSS's square root\r\n                    </h4>\r\n                    <p>\r\n                      This plot on the right is interesting and it contains all the information we want.\r\n                      The highest and lowest points are defined by the destructive and constructive interactions, thus the amplitude of both components can be retrieved.\r\n                      The maximum possition indicates where the construction interaction happens, thus it indicates the phase of the second beam-pattern with a negative sign.\r\n                    </p>\r\n                  </Col>\r\n                </Row>\r\n                <h3 align=\"center\">\r\n                  Application to channel estimation\r\n                </h3>\r\n                <p>\r\n                  This means that we can use those results to apply them to particullar antenna elements.\r\n                  If in the reference beam-pattern and antenna is off, we can safely set <InlineMath math=\"\\bf{w}\" /> to be the beam-pattern with all antennas off except for the desired antenna.\r\n                  Then we can set the phase shift to the ones allowed by the antenna constraints to compose 4 new beam-patterns that allow us to measure points in the RSS middle graph.\r\n                  With those points we can reconstruct the whole wave and convert it to the right figure's RSS's square root to get that antenna's amplitude and phase.\r\n                </p>\r\n                <p>\r\n                  There's a way to do the same for an antenna that's off by substracting it from the reference beam-pattern and then correcting the phase.\r\n                  If you're interested on how to do it, please refer to the paper.\r\n                </p>\r\n                <p>\r\n                  Now we simply need to apply this to all antennas we want to estimate.\r\n                  And we have a channel (or sub-channel) estimation.\r\n                  The choice of a subchannel depends on the will to reduce the number of required measurements.\r\n                </p>\r\n                <h2 align=\"center\">\r\n                  From channel estimation to beam-forming\r\n                </h2>\r\n                <p>\r\n                  The next mission for the algorithm is to decide how to do the beam-forming with the channel estimation and the coefficient restrictions.\r\n                </p>\r\n                <Row>\r\n                  <Col md=\"6\">\r\n                    <h4 align=\"center\">\r\n                      Phase\r\n                    </h4>\r\n                    <p>\r\n                      We have to remember that the phase of the beam-pattern coefficients is restricted.\r\n                      The easy solution to account for this quantization is to simply round to the closest value.\r\n                      We take this approach not because it's the best, but because it's simple and it's out of the paper's scope.\r\n                      There's an extense research on quantized beam-forming that can be used for this.\r\n                    </p>\r\n                  </Col>\r\n                  <Col md=\"6\">\r\n                    <h4 align=\"center\">\r\n                      On or off?\r\n                    </h4>\r\n                    <p>\r\n                      As for the phase, we are considering a simple strategy.\r\n                      This strategy consists on optimizing assuming that the phase is unconstrained.\r\n                      In the paper we prove this optimization's solution to be to switch on the strongest <InlineMath math=\"N\" /> antennas that maximize <InlineMath math=\"\\frac{\\sum_{k=1}^N|a_k|}{\\sqrt{N}}\" />, where <InlineMath math=\"a_k\" /> is the channel coefficient corresponding to the k-th strongest antenna.\r\n                    </p>\r\n                  </Col>\r\n                </Row>\r\n                <PlotsOnOff />\r\n              </CardBody>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport \"./assets/scss/black-dashboard-react.scss\";\r\nimport \"./assets/demo/demo.css\";\r\nimport \"./assets/css/nucleo-icons.css\";\r\ndocument.body.classList.add(\"white-content\");\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}